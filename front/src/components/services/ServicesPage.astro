---
import type { languagesList } from '@/i18n/ui';
import { useTranslations } from '@/i18n/utils';

const currentLang = Astro.currentLocale || 'es';
const t = useTranslations(currentLang as keyof typeof languagesList);
const services = Astro.props;
---

<ul class="box-container boxes-services__list">
	<li class="box-item">
		<div class="flip-box">
			<div
				class="flip-box-front"
				style={`background-image: url(${services.services[0].image.unpicUrl});`}
			>
				<div class="inner">
					<a
						href="#service-01"
						class="h-services__link"
						aria-label="mas información sobre el servicio de consultas"
					>
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[0].title}</span>
						<svg
							viewBox="0 0 50 50"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M50 25c0 13.807-11.193 25-25 25S0 38.807 0 25 11.193 0 25 0s25 11.193 25 25ZM16.908 12.218c1.05-1.281 2.982-1.523 4.315-.539L36.89 23.247a2.823 2.823 0 0 1 .513 4.103 3.072 3.072 0 0 1-.71.633 2.97 2.97 0 0 1-.431.315l-16.163 9.718c-1.417.852-3.31.422-4.229-.96a2.842 2.842 0 0 1 .904-4.047l12.814-7.705-12.168-8.983a2.823 2.823 0 0 1-.512-4.103Z"
								fill="#EBC3BC"></path>
						</svg>
					</a>
				</div>
			</div>
			<div
				class="flip-box-back"
				style={`background-image: url(${services.services[0].image.unpicUrl});`}
			>
				<div class="inner">
					<a
						href="#service-01"
						class="h-services__link"
						aria-label="mas información sobre el plan de sueño personalizado con seguimiento"
					>
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[0].title}</span>
						<button class="flip-box-button">+ info</button>
					</a>
				</div>
			</div>
		</div>
	</li>
	<li class="box-item">
		<div class="flip-box">
			<div
				class="flip-box-front"
				style={`background-image: url(${services.services[1].image.unpicUrl});`}
			>
				<div class="inner">
					<a
						href="#service-02"
						class="h-services__link"
						aria-label="mas información sobre el plan de sueño conmigo, pero a tu ritmo"
					>
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[1].title}</span>
						<svg
							flip-box-imgviewbox="0 0 50 50"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M50 25c0 13.807-11.193 25-25 25S0 38.807 0 25 11.193 0 25 0s25 11.193 25 25ZM16.908 12.218c1.05-1.281 2.982-1.523 4.315-.539L36.89 23.247a2.823 2.823 0 0 1 .513 4.103 3.072 3.072 0 0 1-.71.633 2.97 2.97 0 0 1-.431.315l-16.163 9.718c-1.417.852-3.31.422-4.229-.96a2.842 2.842 0 0 1 .904-4.047l12.814-7.705-12.168-8.983a2.823 2.823 0 0 1-.512-4.103Z"
								fill="#EBC3BC"></path>
						</svg>
					</a>
				</div>
			</div>
			<div
				class="flip-box-back"
				style={`background-image: url(${services.services[1].image.unpicUrl});`}
			>
				<div class="inner">
					<a
						href="#service-02"
						class="h-services__link"
						aria-label="mas información sobre el plan a vuestro ritmo"
					>
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[1].title}</span>
						<button class="flip-box-button">+ info</button>
					</a>
				</div>
			</div>
		</div>
	</li>
	<li class="box-item">
		<div class="flip-box">
			<div
				class="flip-box-front"
				style={`background-image: url(${services.services[2].image.unpicUrl});`}
			>
				<div class="inner">
					<a
						href="#service-03"
						class="h-services__link"
						aria-label="mas información sobre encuentros grupales "
					>
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[2].title}</span>
						<svg
							viewBox="0 0 50 50"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M50 25c0 13.807-11.193 25-25 25S0 38.807 0 25 11.193 0 25 0s25 11.193 25 25ZM16.908 12.218c1.05-1.281 2.982-1.523 4.315-.539L36.89 23.247a2.823 2.823 0 0 1 .513 4.103 3.072 3.072 0 0 1-.71.633 2.97 2.97 0 0 1-.431.315l-16.163 9.718c-1.417.852-3.31.422-4.229-.96a2.842 2.842 0 0 1 .904-4.047l12.814-7.705-12.168-8.983a2.823 2.823 0 0 1-.512-4.103Z"
								fill="#EBC3BC"></path>
						</svg>
					</a>
				</div>
			</div>
			<div
				class="flip-box-back"
				style={`background-image: url(${services.services[2].image.unpicUrl});`}
			>
				<div class="inner">
					<a href="#service-03" class="h-services__link">
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[2].title}</span>
						<button class="flip-box-button">+ info</button>
					</a>
				</div>
			</div>
		</div>
	</li>
	<li class="box-item">
		<div class="flip-box">
			<div
				class="flip-box-front"
				style={`background-image: url(${services.services[3].image.unpicUrl});`}
			>
				<div class="inner">
					<a href="#service-04" class="h-services__link">
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[3].title}</span>
						<svg
							viewBox="0 0 50 50"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M50 25c0 13.807-11.193 25-25 25S0 38.807 0 25 11.193 0 25 0s25 11.193 25 25ZM16.908 12.218c1.05-1.281 2.982-1.523 4.315-.539L36.89 23.247a2.823 2.823 0 0 1 .513 4.103 3.072 3.072 0 0 1-.71.633 2.97 2.97 0 0 1-.431.315l-16.163 9.718c-1.417.852-3.31.422-4.229-.96a2.842 2.842 0 0 1 .904-4.047l12.814-7.705-12.168-8.983a2.823 2.823 0 0 1-.512-4.103Z"
								fill="#EBC3BC"></path>
						</svg>
					</a>
				</div>
			</div>
			<div
				class="flip-box-back"
				style={`background-image: url(${services.services[3].image.unpicUrl});`}
			>
				<div class="inner">
					<a href="#service-04" class="h-services__link">
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[3].title}</span>
						<button class="flip-box-button">+ info</button>
					</a>
				</div>
			</div>
		</div>
	</li>
	<li class="box-item">
		<div class="flip-box">
			<div
				class="flip-box-front"
				style={`background-image: url(${services.services[4].image.unpicUrl});`}
			>
				<div class="inner">
					<a href="#service-05" class="h-services__link">
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[4].title}</span>
						<svg
							viewBox="0 0 50 50"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M50 25c0 13.807-11.193 25-25 25S0 38.807 0 25 11.193 0 25 0s25 11.193 25 25ZM16.908 12.218c1.05-1.281 2.982-1.523 4.315-.539L36.89 23.247a2.823 2.823 0 0 1 .513 4.103 3.072 3.072 0 0 1-.71.633 2.97 2.97 0 0 1-.431.315l-16.163 9.718c-1.417.852-3.31.422-4.229-.96a2.842 2.842 0 0 1 .904-4.047l12.814-7.705-12.168-8.983a2.823 2.823 0 0 1-.512-4.103Z"
								fill="#EBC3BC"></path>
						</svg>
					</a>
				</div>
			</div>
			<div
				class="flip-box-back"
				style={`background-image: url(${services.services[4].image.unpicUrl});`}
			>
				<div class="inner">
					<a href="#service-05" class="h-services__link">
						<img class="h-services__img" src="" alt="" />
						<span class="h-services__text">{services.services[4].title}</span>
						<button class="flip-box-button">+ info</button>
					</a>
				</div>
			</div>
		</div>
	</li>
</ul>
<style is:inline>
	.boxes-services {
		width: 92%;
		max-width: 120rem;
		margin-left: auto;
		margin-right: auto;
	}

	.boxes-services__list {
		margin-top: 6rem;
	}
	@media screen and (min-width: 47.82rem) {
		.boxes-services__list {
			display: -ms-grid;
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			grid-template-rows: repeat(4, 1fr);
			grid-row-gap: 1rem;
			grid-column-gap: 3rem;
		}
		.boxes-services__list > *:nth-child(1) {
			grid-row: 1;
			grid-column: 1;
		}
		.boxes-services__list > *:nth-child(2) {
			grid-row: 1;
			grid-column: 3;
		}
		.boxes-services__list > *:nth-child(3) {
			grid-row: 3;
			grid-column: 1;
		}
		.boxes-services__list > *:nth-child(4) {
			grid-row: 3;
			grid-column: 3;
		}
		.boxes-services__list > *:nth-child(5) {
			grid-row: 5;
			grid-column: 1;
		}
		.boxes-services__list > *:nth-child(6) {
			grid-row: 5;
			grid-column: 3;
		}
		.boxes-services__list > *:nth-child(7) {
			grid-row: 7;
			grid-column: 1;
		}
		.boxes-services__list > *:nth-child(8) {
			grid-row: 7;
			grid-column: 3;
		}
	}
	@media screen and (min-width: 64rem) {
		.boxes-services__list {
			display: -ms-grid;
			display: grid;
			grid-template-columns: repeat(5, 17%);
			grid-template-rows: auto;
			justify-content: center;
			grid-column-gap: 2rem;
		}
		.boxes-services__list > *:nth-child(1) {
			grid-row: 1;
			grid-column: 1;
		}
		.boxes-services__list > *:nth-child(2) {
			grid-row: 1;
			grid-column: 3;
		}
		.boxes-services__list > *:nth-child(3) {
			grid-row: 1;
			grid-column: 5;
		}
		.boxes-services__list > *:nth-child(4) {
			grid-row: 1;
			grid-column: 7;
		}
		.boxes-services__list > *:nth-child(5) {
			grid-row: 1;
			grid-column: 9;
		}
	}
	.boxes-services__item:not(.boxes-services__item[class*='3']) {
		opacity: 0;
		max-width: 23.125rem;
		margin-right: auto;
		margin-left: auto;
	}
	@media screen and (min-width: 47.82rem) {
		.boxes-services__item:nth-of-type(1) {
			grid-row: 1/3;
			align-self: start;
		}
		.boxes-services__item:nth-of-type(2) {
			grid-row: 2/3;
			grid-column: 2/3;
			align-self: start;
		}
		.boxes-services__item:nth-of-type(3) {
			grid-column: 1/2;
			align-self: start;
		}
		.boxes-services__item:nth-of-type(4) {
			grid-row: 4/5;
			grid-column: 2/3;
			align-self: start;
		}
		.boxes-services__item:nth-of-type(5) {
			grid-row: 5/-1;
			align-self: start;
		}
	}
	@media screen and (min-width: 64rem) {
		.boxes-services__item:nth-of-type(1) {
			grid-row: 1/1;
			grid-column: 1/2;
			align-self: start;
		}
		.boxes-services__item:nth-of-type(2) {
			grid-row: 1/1;
			grid-column: 2/3;
			align-self: start;
			animation-delay: 0.4s;
		}
		.boxes-services__item:nth-of-type(3) {
			grid-row: 1/1;
			grid-column: 3/4;
			align-self: start;
			animation-delay: 0.6s;
		}
		.boxes-services__item:nth-of-type(4) {
			grid-row: 1/1;
			grid-column: 4/5;
			align-self: start;
			animation-delay: 0.8s;
		}
		.boxes-services__item:nth-of-type(5) {
			grid-row: 1/1;
			grid-column: 5/6;
			align-self: start;
			animation-delay: 1s;
		}
	}
	@media screen and (min-width: 64rem) {
		.boxes-services__item > a > img {
			height: 50vh;
			object-fit: cover;
		}
	}
	.inner > a > svg {
		display: none;
	}
	@media screen and (min-width: 47.82rem) {
		.inner > a > svg {
			display: block;
			width: 50px;
			height: 50px;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
		.inner > a > img {
			height: 50vh;
			object-fit: cover;
			filter: brightness(0.9);
		}
		.inner > a > img:hover {
			transform: none;
		}
		.inner > a > button {
			background-color: transparent;
			border: 2px solid #fff;
			border-radius: 2px;
			color: #fff;
			cursor: pointer;
			font-size: 20px;
			font-weight: bold;
			margin-top: 25px;
			padding: 15px 30px;
			text-transform: uppercase;
			position: absolute;
			top: 45%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
		.inner > a > span {
			top: -40px;
			height: 4rem;
			border: 1px solid #ebc3bc;
		}
	}
	.box-item {
		position: relative;
		width: 415px;
		margin-bottom: 80px;
		max-width: 100%;
	}
	.flip-box {
		transform-style: preserve-3d;
		perspective: 1000px;
	}
	.flip-box-front,
	.flip-box-back {
		background-size: cover;
		background-position: center;
		border-radius: 8px;
		min-height: 250px;
		transition: transform 0.7s cubic-bezier(0.4, 0.2, 0.2, 1);
		backface-visibility: hidden;
		box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px;
	}
	.flip-box-front {
		transform: rotateY(0deg);
		transform-style: preserve-3d;
	}
	.flip-box-back {
		display: none;
	}
	.flip-box .inner {
		position: absolute;
		left: 0;
		width: 100%;
		outline: 1px solid transparent;
		z-index: 2;
		top: 100%;
	}
	@media (min-width: 768px) {
		* .box-item {
			margin-bottom: 35px;
		}
		.flip-box-front,
		.flip-box-back {
			min-height: 475px;
		}
		.flip-box:hover .flip-box-front {
			transform: rotateY(-180deg);
			transform-style: preserve-3d;
		}
		.flip-box-back {
			display: block;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;

			transform: rotateY(180deg);
			transform-style: preserve-3d;
		}
		.flip-box .inner {
			padding: 17px;
			perspective: inherit;

			transform: translateY(-50%) translateZ(60px) scale(0.94);
			top: 50%;
		}
	}

	.flip-box:hover .flip-box-back {
		transform-style: preserve-3d;
		transform: rotateY(0deg);
	}
	.flip-box-header {
		font-size: 34px;
	}
	.flip-box p {
		font-size: 20px;
		line-height: 1.5em;
	}
	.flip-box-img {
		margin-top: 25px;
	}
	.flip-box-button {
		background-color: transparent;
		border: 2px solid #fff;
		border-radius: 2px;
		color: #fff;
		cursor: pointer;
		font-size: 20px;
		font-weight: bold;
		margin-top: 25px;
		padding: 15px 20px;
		text-transform: uppercase;
	}
	.h-services__text {
		font-size: 0.8125em;
		font-weight: 900;
		text-transform: uppercase;
		text-align: center;
		letter-spacing: 1px;
		fill: #222222;
		color: #222222;
		background-color: #ffffff;
		border-style: solid;
		border-width: 5px 5px 2px 5px;
		border-color: #ffffff;
		border-radius: 0px 0px 0px 0px;
		-webkit-box-shadow: 0px 15px 60px 0px rgba(0, 0, 0, 0.1);
		box-shadow: 0px 15px 60px 0px rgba(0, 0, 0, 0.1);
		padding: 1em;
		display: -ms-grid;
		display: grid;
		place-items: center;
		width: 90%;
		position: relative;
		top: -30px;
		margin: 0 auto;
	}
	.box-container {
		align-items: center;
		display: flex;
		flex-direction: column;
		justify-content: space-around;
		padding: 35px 15px;
		width: 100%;
	}
	@media screen and (min-width: 1380px) {
		.box-container {
			flex-direction: row;
		}
	}
</style>
