---
export interface Props {
	title?: string;
	description?: string;
	image?: string;
	canonical?: string;
	type?: 'website' | 'article';
	locale?: string;
	noindex?: boolean;
}

const {
	title = 'Aitama Sleep Coaching',
	description = 'Asesoría del sueño infantil personalizada con métodos respetuosos',
	image = '/img/banner.png',
	canonical,
	type = 'website',
	locale = 'es_ES',
	noindex = false,
} = Astro.props;

const siteUrl = 'https://aitamasleepcoaching.com';

// Asegurarse de que la imagen tenga URL completa
const fullImageUrl = image.startsWith('http')
	? image
	: `${siteUrl}${image.startsWith('/') ? '' : '/'}${image}`;

// URL canónica
const canonicalURL = canonical || new URL(Astro.url.pathname, siteUrl).href;
---

<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />
{canonical && <link rel="canonical" href={canonicalURL} />}
{noindex && <meta name="robots" content="noindex, nofollow" />}

<meta property="og:type" content={type} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={fullImageUrl} />
<meta property="og:locale" content={locale} />
<meta property="og:site_name" content="Aitama Sleep Coaching" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content={canonicalURL} />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={fullImageUrl} />

<meta name="author" content="Aitama Sleep Coaching" />
<link rel="sitemap" href="/sitemap-index.xml" />
