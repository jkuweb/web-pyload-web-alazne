---
export interface Props {
	items: Array<{
		name: string;
		url: string;
	}>;
}

const { items } = Astro.props;
const siteUrl = import.meta.env.SITE || 'https://aitamasleepcoaching.com/es';

const schema = {
	'@context': 'https://schema.org',
	'@type': 'BreadcrumbList',
	itemListElement: items.map((item, index) => ({
		'@type': 'ListItem',
		position: index + 1,
		name: item.name,
		item: {
			'@id': item.url.startsWith('http') ? item.url : `${siteUrl}${item.url}`,
		},
	})),
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
